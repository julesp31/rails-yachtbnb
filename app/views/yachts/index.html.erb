<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lobster&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

<section class="yachts">
  <% @yachts.each do |yacht| %>
    <div class="card-product">
      <% if yacht.photo.attached? %>
        <%= link_to yacht_path(yacht) do %>
          <%= cl_image_tag yacht.photo.key %>
        <% end %>
      <% else %>
        <%= link_to yacht_path(yacht) do %>
          <%= cl_image_tag 'https://res.cloudinary.com/djkohlole/image/upload/v1720208143/istockphoto-1874145863-612x612_a0d1e2.jpg', class: 'img-fluid rounded' %>
        <% end %>
      <% end %>

      <div class="card-product-infos">
        <%= link_to yacht_path(yacht), class: 'text-decoration-none text-dark' do %>
          <h2 class="card-title lobster-regular"><%= yacht.name %></h2>
        <% end %>
        <br>
        <br>
        <p class="card-text"><%= yacht.description %></p>
        <br>
        <br>

        <!-- Icons and Details -->
        <div class="card-icons">
          <p class="card-text">
            <%= image_tag 'pound-money.png', style: 'width: 60px; height: 60px;' %>
            <strong>Â£<%= number_to_human(yacht.price, format: '%n%u', units: { thousand: 'K', million: 'M', billion: 'B' }) %> per day</strong>
          </p>

          <p class="card-text roboto">
            <%= image_tag 'pin.png', style: 'width: 50px; height: 50px;' %>
            <strong><%= yacht.location %></strong>
          </p>

          <p class="card-text roboto">
            <%= image_tag 'captain.png', style: 'width: 60px; height: 60px;' %>
            <strong><%= yacht.has_captain ? 'Yes' : 'No' %></strong>
          </p>

          <p class="card-text roboto">
            <%= image_tag 'users.png', style: 'width: 60px; height: 60px;' %>
            <strong><%= yacht.capacity %> guests</strong>
          </p>
        </div>

        <!-- Booking Button -->
        <%= link_to 'Book Now', yacht_path(yacht), class: 'btn btn-info bold-roboto btn-lg', style: 'margin-top: 20px;' %>
      </div>
    </div>
  <% end %>
</section>

<style>
  .card-product {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 20px;
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

  .card-product img {
    max-width: 700px;
    height: auto;
    border-radius: 8px;
    margin-bottom: 10px;
  }

  .card-product-infos {
    width: 100%;
    text-align: left;
  }

  .card-icons {
    display: flex;
    justify-content: space-between;
    margin-top: 10px;
  }

  .card-text {
    margin-bottom: 5px;
  }
</style>
